# @package _global_
# Core pipeline invariants and performance defaults.

skip_parquet_stage: false
skip_lmdb_stage: false
reuse_embeddings_if_exists: false
validate_graph_edges: true

path_mode: qa_directed
dedup_edges: true
remove_self_loops: true
relation_cleaning: true

embeddings_out_dir: ${dataset.materialized_dir}/embeddings
precompute_entities: true
precompute_relations: true
precompute_questions: true
canonicalize_relations: false
cosine_eps: 1e-6

emit_sub_filter: true
sub_filter_filename: sub_filter.json
emit_nonzero_positive_filter: false
nonzero_positive_filter_filename: nonzero_positive_filter.json
nonzero_positive_filter_splits: ["train"]

parquet_dir: ${dataset.out_dir}
output_dir: ${dataset.materialized_dir}
use_precomputed_embeddings: true
use_precomputed_questions: true
require_precomputed_questions: true
lmdb_shards: 1

map_size_gb: 128
map_growth_gb: 32
map_growth_factor: 1.5
map_max_gb: null
vocab_map_size_gb: 16
overwrite_lmdb: true
txn_size: 512
seed: 42
deterministic: false

precompute_distances: true
distance_splits: null
distance_num_workers: null
distance_chunk_size: 8
distance_progress_interval: 0
distance_skip_existing: true
distance_pt_overwrite: true
distance_prune_lmdb: false
