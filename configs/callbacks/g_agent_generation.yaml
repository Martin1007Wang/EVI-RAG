# GAgent materialization callback (predict-only).

g_agent_generation:
  _target_: src.callbacks.g_agent_callback.GAgentGenerationCallback
  settings:
    _target_: src.data.components.g_agent_builder.GAgentSettings
    enabled: true
    # Dataset-dependent knobs are bound from the experiment (eval_retriever.yaml).
    # Global top-k edges kept after score ranking.
    edge_top_k: ${run.edge_top_k}
    # Hop radius for shortest-path filtering on the selected edge space.
    max_hops: ${run.max_hops}
    score_temperature: ${run.score_temperature}
    output_path: ${dataset.artifact_dir}/g_agent/${run.split}_g_agent.pt
  lmdb_path: ${dataset.paths.embeddings}/${run.split}.lmdb
