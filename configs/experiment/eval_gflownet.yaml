# @package _global_
#
# Experiment: GFlowNet evaluation (predict + metrics + rollouts).

defaults:
  - override /data: g_retrieval
  - override /model: gflownet_module
  - override /callbacks: gflownet_eval
  - override /logger: none
  - override /trainer: predict

run:
  name: eval_gflownet
  task_name: "eval/gflownet"
  tags: ["eval", "gflownet"]
  split: test
  eval_mode: predict
  ckpt_path: ${ckpt.gflownet}
  filter_missing_start: true
  dataset_variants:
    - ${dataset.dataset_family}
    - ${dataset.dataset_family}-sub
  require_dual_datasets: true

ckpt:
  gflownet: ${oc.env:GFLOWNET_CKPT,null}

data:
  splits:
    test: ${run.split}

model:
  evaluation_cfg:
    num_eval_rollouts: ${dataset.num_eval_rollouts}
    rollout_temperature: 0.07
